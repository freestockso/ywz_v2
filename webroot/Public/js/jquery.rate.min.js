(function($){$.fn.rate=function(options){var defaults={count:6,score:3,color:"orange",size:"18px",star:"★",star_o:"☆",editable:true,onSelect:function(score,target){return true}};var options=$.extend(defaults,options);this.each(function(){var _this=$(this);var dataOptionStr=_this.attr("data-options");if(typeof(dataOptionStr)=="undefined"){dataOptionStr="{}"}var dataOptions=eval("("+dataOptionStr+")");var localOptions={};localOptions=$.extend(localOptions,options);localOptions=$.extend(localOptions,dataOptions);for(let i=0;i<localOptions.count;i++){var star=$('<span class="star" ></span>');star.css({color:localOptions.color,"font-size":localOptions.size});if(i<localOptions.score){star.text(localOptions.star)}else{star.text(localOptions.star_o)}_this.append(star)}_this.find(".star").mouseenter(function(){setStar(_this,$(this).index()+1,localOptions)});_this.find(".star").mouseleave(function(){setStar(_this,localOptions.score,localOptions)});_this.find(".star").click(function(){if(localOptions.editable){localOptions.score=$(this).index()+1;localOptions.editable=localOptions.onSelect(localOptions.score,_this)}})});function setStar(container,val,options){if(options.editable){container.find(".star").each(function(i){if(i<val){$(this).text(options.star)}else{$(this).text(options.star_o)}})}}return this}})(jQuery);